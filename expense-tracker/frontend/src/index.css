@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  :root {
    color-scheme: light;
    --brand: #6a7bff;
    --brand-accent: #a855f7;
    --surface: 248 250 252;
    --glass: hsla(0, 0%, 100%, 0.86);
    --glass-border: rgba(148, 163, 184, 0.35);
  }

  .dark {
    color-scheme: dark;
    --surface: 3 6 16;
    --glass: hsla(222, 47%, 11%, 0.7);
    --glass-border: rgba(51, 65, 85, 0.7);
  }

  * {
    @apply scroll-smooth;
  }

  body {
    @apply min-h-screen bg-slate-50 font-inter text-slate-950 antialiased selection:bg-brand/20 dark:bg-slate-950 dark:text-slate-100;
    background-image: radial-gradient(circle at 10% 20%, rgba(79, 70, 229, 0.08), transparent 35%),
      radial-gradient(circle at 90% 10%, rgba(236, 72, 153, 0.08), transparent 30%),
      linear-gradient(135deg, rgba(15, 23, 42, 0.02), rgba(79, 70, 229, 0.02));
  }

  a {
    @apply text-brand transition hover:text-brand-dark;
  }

  label {
    @apply mb-1 block text-sm font-medium text-slate-500 dark:text-slate-300;
  }

  input,
  textarea,
  select {
    @apply w-full rounded-2xl border border-slate-200/70 bg-white/80 px-4 py-2.5 text-sm text-slate-900 placeholder-slate-400 shadow-sm shadow-slate-100 transition focus:border-brand focus:outline-none focus:ring-2 focus:ring-brand/30 disabled:cursor-not-allowed disabled:opacity-70 dark:border-slate-800 dark:bg-slate-900/60 dark:text-slate-100 dark:placeholder-slate-500;
  }

  textarea {
    @apply resize-none;
  }

  table {
    @apply w-full border-collapse text-sm;
  }

  th {
    @apply border-b border-slate-200/80 px-3 py-3 text-left text-xs font-semibold uppercase tracking-wide text-slate-500 dark:border-slate-800 dark:text-slate-400;
  }

  td {
    @apply border-b border-slate-100/80 px-3 py-3 align-top text-slate-700 dark:border-slate-800 dark:text-slate-200;
  }

  ::-webkit-scrollbar {
    width: 8px;
    height: 8px;
  }

  ::-webkit-scrollbar-track {
    @apply rounded-full bg-slate-100/70 dark:bg-slate-900/40;
  }

  ::-webkit-scrollbar-thumb {
    @apply rounded-full bg-slate-300/80 hover:bg-slate-400 dark:bg-slate-700 dark:hover:bg-slate-600;
  }
}

@layer components {
  .card {
    @apply w-full overflow-hidden rounded-[1.8rem] border border-slate-100/80 bg-white/90 p-5 shadow-xl shadow-slate-200/60 backdrop-blur-lg dark:border-slate-800 dark:bg-slate-900/70 dark:shadow-slate-900/30 sm:p-6;
  }

  .glass-panel {
    @apply rounded-3xl border border-slate-100/70 bg-white/80 p-5 shadow-xl shadow-slate-200/40 backdrop-blur-lg transition dark:border-slate-800/60 dark:bg-slate-900/60 dark:shadow-slate-900/40 lg:p-6;
  }

  .glass-panel--gradient {
    background-image: linear-gradient(135deg, rgba(99, 102, 241, 0.95), rgba(236, 72, 153, 0.85));
    @apply border-transparent text-white;
  }

  .pill {
    @apply inline-flex min-h-[2rem] items-center rounded-full bg-brand/15 px-4 text-xs font-semibold uppercase tracking-wide text-brand;
  }

  .eyebrow {
    @apply text-xs font-semibold uppercase tracking-[0.2em] text-slate-400 dark:text-slate-500;
  }

  .btn {
    @apply inline-flex items-center justify-center gap-2 rounded-full px-5 py-2.5 text-sm font-semibold transition focus:outline-none focus-visible:ring-2 focus-visible:ring-brand/40 disabled:pointer-events-none disabled:opacity-60;
  }

  .button,
  .btn-primary {
    @apply btn bg-brand text-white shadow-lg shadow-brand/30 hover:-translate-y-0.5 hover:bg-brand-dark;
  }

  .button--ghost,
  .btn-ghost {
    @apply btn border border-slate-200/80 bg-transparent text-slate-600 hover:-translate-y-0.5 hover:border-brand hover:text-brand dark:border-slate-700 dark:text-slate-100;
  }

  .icon-button {
    @apply inline-flex h-11 w-11 items-center justify-center rounded-2xl border border-slate-200/80 bg-white/80 text-slate-500 shadow-sm shadow-slate-200 transition hover:-translate-y-0.5 hover:border-brand hover:text-brand dark:border-slate-700 dark:bg-slate-900/40 dark:text-slate-100;
  }

  .icon-button--ghost {
    @apply border-transparent bg-transparent text-slate-500 hover:text-brand dark:text-slate-300;
  }

  .icon-badge {
    @apply inline-flex h-11 w-11 items-center justify-center rounded-2xl border border-slate-200/70 bg-white/80 text-brand shadow-sm shadow-slate-200 dark:border-slate-700 dark:bg-slate-900/60;
  }

  .chip {
    @apply inline-flex items-center gap-2 rounded-full border border-slate-200/70 bg-white/80 px-3 py-1 text-xs font-semibold text-slate-500 shadow-sm shadow-slate-200 transition dark:border-slate-700 dark:bg-slate-900/60 dark:text-slate-300;
  }

  .chip--brand {
    @apply border-transparent bg-brand/15 text-brand dark:bg-brand/30 dark:text-white;
  }

  .error-text {
    @apply text-sm font-medium text-rose-500;
  }

  .badge {
    @apply inline-flex items-center rounded-full px-3 py-1 text-xs font-semibold uppercase tracking-wide;
  }

  .badge--income {
    @apply badge bg-emerald-100 text-emerald-700 dark:bg-emerald-500/20 dark:text-emerald-200;
  }

  .badge--expense {
    @apply badge bg-rose-100 text-rose-700 dark:bg-rose-500/20 dark:text-rose-200;
  }

  .badge--success {
    @apply badge bg-emerald-100 text-emerald-700 dark:bg-emerald-500/20 dark:text-emerald-200;
  }

  .badge--danger {
    @apply badge bg-rose-100 text-rose-700 dark:bg-rose-500/20 dark:text-rose-200;
  }

  .table-responsive {
    @apply overflow-x-auto rounded-3xl border border-slate-100/80 bg-white/60 p-2 shadow-inner shadow-slate-200/60 dark:border-slate-800 dark:bg-slate-900/30;
  }

  .modal-overlay {
    @apply fixed inset-0 z-50 flex items-center justify-center bg-slate-950/70 p-4 backdrop-blur;
  }

  .modal {
    @apply w-full max-w-2xl rounded-[1.8rem] border border-slate-100/80 bg-white/95 p-6 shadow-2xl shadow-slate-900/40 dark:border-slate-800 dark:bg-slate-900/80;
  }

  .modal__header {
    @apply mb-6 flex items-center justify-between gap-4;
  }

  .modal__body {
    @apply space-y-4;
  }

  .modal__footer {
    @apply mt-6 flex flex-wrap gap-3;
  }

  .bottom-nav {
    @apply fixed inset-x-0 bottom-0 z-40 flex items-center justify-around border-t border-slate-200 bg-white/95 px-2 py-2 text-xs font-semibold shadow-2xl shadow-slate-900/10 backdrop-blur dark:border-slate-800 dark:bg-slate-900/80 lg:hidden;
    padding-bottom: calc(env(safe-area-inset-bottom, 0px) + 0.75rem);
  }

  .bottom-nav__link {
    @apply flex flex-col items-center gap-1 text-slate-500 transition;
  }

  .bottom-nav__link.is-active {
    @apply text-brand;
  }

  .dashboard {
    @apply flex flex-col gap-10;
  }

  .quick-cards {
    @apply grid gap-6 sm:grid-cols-2 xl:grid-cols-4;
  }

  .quick-card {
    @apply flex h-full flex-col justify-between rounded-3xl border border-slate-100/80 bg-white/80 p-4 shadow-sm shadow-slate-200/50 dark:border-slate-800 dark:bg-slate-900/40;
  }

  .quick-card small {
    @apply text-xs font-semibold uppercase tracking-wide text-slate-500 dark:text-slate-400;
  }

  .quick-card strong {
    @apply mt-2 text-3xl font-semibold text-slate-900 dark:text-white;
  }

  .quick-card__hint {
    @apply text-xs text-slate-400 dark:text-slate-500;
  }

  .metric-grid {
    @apply grid gap-5 md:grid-cols-2 xl:grid-cols-4;
  }

  .metric-card {
    @apply relative overflow-hidden rounded-[1.7rem] border border-slate-100/70 bg-white/90 p-5 shadow-md shadow-slate-200/60 transition hover:-translate-y-1 hover:shadow-xl dark:border-slate-800 dark:bg-slate-900/60;
  }

  .metric-card::after {
    content: '';
    @apply absolute inset-0 rounded-[1.7rem];
    background: radial-gradient(circle at top, rgba(99, 102, 241, 0.18), transparent 45%);
    pointer-events: none;
  }

  .metric-card__title {
    @apply text-xs font-semibold uppercase tracking-wide text-slate-500 dark:text-slate-400;
  }

  .metric-card__value {
    @apply mt-3 text-3xl font-semibold text-slate-900 dark:text-white;
  }

  .metric-card__delta {
    @apply mt-1 inline-flex items-center rounded-full bg-emerald-100/80 px-2 py-0.5 text-xs font-semibold text-emerald-700 dark:bg-emerald-500/15 dark:text-emerald-200;
  }

  .skeleton {
    @apply animate-pulse rounded-full bg-slate-200/80 dark:bg-slate-800/60;
  }

  .skeleton--text {
    height: 1rem;
  }

  .skeleton--title {
    height: 1.75rem;
  }

  .skeleton--circle {
    @apply rounded-full;
  }

  .skeleton-card {
    @apply glass-panel space-y-4;
  }

  .floating-toolbar {
    @apply sticky top-0 z-30 mb-6 flex flex-wrap items-center justify-between gap-3 rounded-3xl border border-slate-100/80 bg-white/80 px-4 py-3 shadow-lg shadow-slate-200/50 backdrop-blur dark:border-slate-800 dark:bg-slate-900/60 dark:shadow-slate-900/30;
  }
}
