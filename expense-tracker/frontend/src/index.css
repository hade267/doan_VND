@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  :root {
    color-scheme: light;
  }

  .dark {
    color-scheme: dark;
  }

  * {
    @apply scroll-smooth;
  }

  body {
    @apply min-h-screen bg-slate-50 font-inter text-slate-950 antialiased selection:bg-brand/20 dark:bg-slate-950 dark:text-slate-100;
  }

  a {
    @apply text-brand transition hover:text-brand-dark;
  }

  label {
    @apply mb-1 block text-sm font-medium text-slate-500 dark:text-slate-300;
  }

  input,
  textarea,
  select {
    @apply w-full rounded-2xl border border-slate-200/70 bg-white/80 px-4 py-2.5 text-sm text-slate-900 placeholder-slate-400 shadow-sm shadow-slate-100 transition focus:border-brand focus:outline-none focus:ring-2 focus:ring-brand/30 disabled:cursor-not-allowed disabled:opacity-70 dark:border-slate-800 dark:bg-slate-900/60 dark:text-slate-100 dark:placeholder-slate-500;
  }

  textarea {
    @apply resize-none;
  }

  table {
    @apply w-full border-collapse text-sm;
  }

  th {
    @apply border-b border-slate-200/80 px-3 py-3 text-left text-xs font-semibold uppercase tracking-wide text-slate-500 dark:border-slate-800 dark:text-slate-400;
  }

  td {
    @apply border-b border-slate-100/80 px-3 py-3 align-top text-slate-700 dark:border-slate-800 dark:text-slate-200;
  }

  ::-webkit-scrollbar {
    width: 8px;
    height: 8px;
  }

  ::-webkit-scrollbar-track {
    @apply rounded-full bg-slate-100/70 dark:bg-slate-900/40;
  }

  ::-webkit-scrollbar-thumb {
    @apply rounded-full bg-slate-300/80 hover:bg-slate-400 dark:bg-slate-700 dark:hover:bg-slate-600;
  }
}

@layer components {
  .card {
    @apply w-full overflow-hidden rounded-[1.8rem] border border-slate-100/80 bg-white/90 p-5 shadow-xl shadow-slate-200/60 backdrop-blur dark:border-slate-800 dark:bg-slate-900/70 dark:shadow-slate-900/30 sm:p-6;
  }

  .pill {
    @apply inline-flex min-h-[2rem] items-center rounded-full bg-brand/15 px-4 text-xs font-semibold uppercase tracking-wide text-brand;
  }

  .eyebrow {
    @apply text-xs font-semibold uppercase tracking-[0.2em] text-slate-400 dark:text-slate-500;
  }

  .btn {
    @apply inline-flex items-center justify-center gap-2 rounded-full px-5 py-2.5 text-sm font-semibold transition focus:outline-none focus-visible:ring-2 focus-visible:ring-brand/40 disabled:pointer-events-none disabled:opacity-60;
  }

  .button,
  .btn-primary {
    @apply btn bg-brand text-white shadow-lg shadow-brand/30 hover:-translate-y-0.5 hover:bg-brand-dark;
  }

  .button--ghost,
  .btn-ghost {
    @apply btn border border-slate-200/80 bg-transparent text-slate-600 hover:-translate-y-0.5 hover:border-brand hover:text-brand dark:border-slate-700 dark:text-slate-100;
  }

  .icon-button {
    @apply inline-flex h-11 w-11 items-center justify-center rounded-2xl border border-slate-200/80 bg-white/80 text-slate-500 shadow-sm shadow-slate-200 transition hover:-translate-y-0.5 hover:border-brand hover:text-brand dark:border-slate-700 dark:bg-slate-900/40 dark:text-slate-100;
  }

  .icon-button--ghost {
    @apply border-transparent bg-transparent text-slate-500 hover:text-brand dark:text-slate-300;
  }

  .icon-badge {
    @apply inline-flex h-11 w-11 items-center justify-center rounded-2xl border border-slate-200/70 bg-white/80 text-brand shadow-sm shadow-slate-200 dark:border-slate-700 dark:bg-slate-900/60;
  }

  .error-text {
    @apply text-sm font-medium text-rose-500;
  }

  .badge {
    @apply inline-flex items-center rounded-full px-3 py-1 text-xs font-semibold uppercase tracking-wide;
  }

  .badge--income {
    @apply badge bg-emerald-100 text-emerald-700 dark:bg-emerald-500/20 dark:text-emerald-200;
  }

  .badge--expense {
    @apply badge bg-rose-100 text-rose-700 dark:bg-rose-500/20 dark:text-rose-200;
  }

  .badge--success {
    @apply badge bg-emerald-100 text-emerald-700 dark:bg-emerald-500/20 dark:text-emerald-200;
  }

  .badge--danger {
    @apply badge bg-rose-100 text-rose-700 dark:bg-rose-500/20 dark:text-rose-200;
  }

  .table-responsive {
    @apply overflow-x-auto rounded-3xl border border-slate-100/80 bg-white/60 p-2 shadow-inner shadow-slate-200/60 dark:border-slate-800 dark:bg-slate-900/30;
  }

  .modal-overlay {
    @apply fixed inset-0 z-50 flex items-center justify-center bg-slate-950/70 p-4 backdrop-blur;
  }

  .modal {
    @apply w-full max-w-2xl rounded-[1.8rem] border border-slate-100/80 bg-white/95 p-6 shadow-2xl shadow-slate-900/40 dark:border-slate-800 dark:bg-slate-900/80;
  }

  .modal__header {
    @apply mb-6 flex items-center justify-between gap-4;
  }

  .modal__body {
    @apply space-y-4;
  }

  .modal__footer {
    @apply mt-6 flex flex-wrap gap-3;
  }

  .bottom-nav {
    @apply fixed inset-x-0 bottom-0 z-40 flex items-center justify-around border-t border-slate-200 bg-white/95 px-2 py-2 text-xs font-semibold shadow-2xl shadow-slate-900/10 backdrop-blur dark:border-slate-800 dark:bg-slate-900/80 lg:hidden;
    padding-bottom: calc(env(safe-area-inset-bottom, 0px) + 0.75rem);
  }

  .bottom-nav__link {
    @apply flex flex-col items-center gap-1 text-slate-500 transition;
  }

  .bottom-nav__link.is-active {
    @apply text-brand;
  }
}
